# ============================================
# ADMISSIONS COUNSELING CHATBOT - ENVIRONMENT VARIABLES
# ============================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control!

# ============================================
# APPLICATION SETTINGS
# ============================================
APP_NAME=Admissions Counseling Chatbot
APP_VERSION=1.0.0
ENVIRONMENT=development  # development, staging, production
DEBUG=True

# ============================================
# BACKEND API SETTINGS
# ============================================
BACKEND_HOST=0.0.0.0
BACKEND_PORT=8000
BACKEND_URL=http://localhost:8000

# CORS Settings (comma-separated origins)
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# ============================================
# FRONTEND SETTINGS
# ============================================
FRONTEND_URL=http://localhost:5173
VITE_API_URL=http://localhost:8000

# ============================================
# MONGODB DATABASE
# ============================================
# Option 1: Local MongoDB
MONGODB_URL=mongodb://localhost:27017
# Option 2: MongoDB Atlas (cloud)
# MONGODB_URL=mongodb+srv://<username>:<password>@cluster0.xxxxx.mongodb.net/?retryWrites=true&w=majority

MONGODB_DB_NAME=admissions_chatbot
MONGODB_USERS_COLLECTION=users
MONGODB_CONVERSATIONS_COLLECTION=conversations
MONGODB_FEEDBACK_COLLECTION=feedback

# ============================================
# ELASTICSEARCH
# ============================================
# Option 1: Local Elasticsearch
ELASTICSEARCH_URL=http://localhost:9200
# Option 2: Elastic Cloud
# ELASTICSEARCH_URL=https://xxxxx.es.us-central1.gcp.cloud.es.io:9243
# ELASTICSEARCH_API_KEY=your_api_key_here

ELASTICSEARCH_INDEX_NAME=admissions_qa
ELASTICSEARCH_USERNAME=elastic
ELASTICSEARCH_PASSWORD=changeme

# ============================================
# LLM API SETTINGS (Choose one)
# ============================================

# OpenAI Settings
LLM_PROVIDER=openai  # openai or gemini
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_MODEL=gpt-4-turbo-preview  # gpt-4-turbo-preview, gpt-3.5-turbo
OPENAI_TEMPERATURE=0.7
OPENAI_MAX_TOKENS=1000

# Google Gemini Settings (Alternative to OpenAI)
# LLM_PROVIDER=gemini
GOOGLE_API_KEY=your-google-api-key-here
GEMINI_MODEL=gemini-pro
GEMINI_TEMPERATURE=0.7
GEMINI_MAX_TOKENS=1000

# ============================================
# EMBEDDING MODEL SETTINGS
# ============================================
EMBEDDING_MODEL=keepitreal/vietnamese-sbert
# Alternative: VoVanPhuc/sup-SimCSE-VietNamese-phobert-base
EMBEDDING_DIMENSION=768
EMBEDDING_BATCH_SIZE=32

# ============================================
# RETRIEVAL SETTINGS
# ============================================
# Number of documents to retrieve from Elasticsearch
RETRIEVAL_TOP_K=5
# Minimum similarity score threshold (0-1)
RETRIEVAL_MIN_SCORE=0.5
# Hybrid search weights (BM25 vs Vector)
RETRIEVAL_BM25_WEIGHT=0.3
RETRIEVAL_VECTOR_WEIGHT=0.7

# ============================================
# LANGGRAPH SETTINGS
# ============================================
# Confidence threshold for requiring clarification
CONFIDENCE_THRESHOLD=0.6
# Maximum conversation history to include in context
MAX_CONVERSATION_HISTORY=5
# Enable/disable streaming responses
ENABLE_STREAMING=True

# ============================================
# AUTHENTICATION & SECURITY
# ============================================
# JWT Secret Key (generate with: openssl rand -hex 32)
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=1440  # 24 hours

# Password hashing
PASSWORD_MIN_LENGTH=8

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_ENABLED=True
RATE_LIMIT_REQUESTS=100  # requests per window
RATE_LIMIT_WINDOW=60  # seconds

# ============================================
# LOGGING
# ============================================
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FILE=logs/app.log
LOG_FORMAT=json  # json or text

# ============================================
# REDIS CACHE (Optional - for future optimization)
# ============================================
REDIS_ENABLED=False
REDIS_URL=redis://localhost:6379/0
REDIS_CACHE_TTL=3600  # seconds

# ============================================
# DATA INGESTION SETTINGS
# ============================================
DATA_FILE_PATH=train.csv
BATCH_SIZE_INGESTION=100
SKIP_EXISTING_DOCS=True

# ============================================
# MONITORING & ANALYTICS (Optional)
# ============================================
ENABLE_ANALYTICS=False
SENTRY_DSN=  # For error tracking
LANGSMITH_API_KEY=  # For LangChain tracing
LANGSMITH_PROJECT=admissions-chatbot

# ============================================
# DEVELOPMENT TOOLS
# ============================================
# Auto-reload on code changes
RELOAD=True
# Show detailed error messages
SHOW_ERROR_DETAILS=True

